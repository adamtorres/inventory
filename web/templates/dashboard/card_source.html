{% load humanize %}

<div id="sources" class="summary">
    <h2>Sources</h2>
    <table>
    <tr>
        <th style="width: 20%;">Source</th>
        <th class="number" style="width: 20%;">Last Order Date</th>
        <th style="width: 40%;">Last Order Description</th>
        <th class="number" style="width: 20%;">Last Order Cost</th>
    </tr>
    {% for source in most_recent_order_per_source %}
        <tr>
            <td>{{ source.object.name }}</td>
            <td class="number">{{ source.most_recent_order.action_date }}</td>
            <td>{{ source.most_recent_order.descriptor }}</td>
            <td>
                <div class="dollar_container">
                    <div class="dollar_line">
                        <span>$</span>
                        <span class="dollar_content">{{ source.most_recent_order.total_price|floatformat:2|intcomma }}</span>
                    </div>
                </div>
            </td>
        </tr>
    {% endfor %}
    </table>
</div>